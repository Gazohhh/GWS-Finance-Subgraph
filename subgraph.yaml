specVersion: 0.0.2
description: GenerationalWealthSociety DAO Subgraph
repository: https://github.com/GenerationalWealthSocietyDAO/generationalWealthSociety-subgraph
schema:
  file: ./schema.graphql
dataSources:
  #Staking Contract V1
  - kind: ethereum/contract
    name: GenerationalWealthSocietyStakingV1
    network: kovan
    source:
      address: "0xaF73f0bd55be48F08a7eE31dd3B76Ba0aa7d11A3"
      abi: GenerationalWealthSocietyStakingV1
      startBlock: 30242551
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - GenerationalWealthSocietyStakingV1
      abis:
        - name: GenerationalWealthSocietyStakingV1
          file: ./abis/GenerationalWealthSocietyStakingV1.json
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
        - name: DAIBondV1
          file: ./abis/DAIBondV1.json
        - name: GWSDAIBondV1
          file: ./abis/GWSDAIBondV1.json
        - name: CirculatingSupply
          file: ./abis/CirculatingSupply.json
        - name: BondingCalculator
          file: ./abis/BondingCalculator.json
        - name: ERC20
          file: ./abis/ERC20.json
      callHandlers:
        - function: stake(uint256,address)
          handler: handleStake
        - function: unstake(uint256,bool)
          handler: handleUnstake
      file: ./src/GenerationalWealthSocietyStakingV1.ts
  #DAI Bond Contract V1
  - kind: ethereum/contract
    name: DAIBondV1
    network: kovan
    source:
      address: "0x859C11a5F77F5c8bEbB293AAC1f0d105EcC6C18F"
      abi: DAIBondV1
      startBlock: 30242660
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - DAIBondDeposit
      abis:
        - name: GenerationalWealthSocietyStakingV1
          file: ./abis/GenerationalWealthSocietyStakingV1.json
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
        - name: DAIBondV1
          file: ./abis/DAIBondV1.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file:
        ./src/DAIBondV1.ts
  #USDC Bond Contract V1
  - kind: ethereum/contract
    name: USDCBondV1
    network: kovan
    source:
      address: "0x770Ca093030CF071a158a1868E2107e2Ee9B5102"
      abi: USDCBondV1
      startBlock: 30242705
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - USDCBondDeposit
      abis:
        - name: GenerationalWealthSocietyStakingV1
          file: ./abis/GenerationalWealthSocietyStakingV1.json
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
        - name: USDCBondV1
          file: ./abis/USDCBondV1.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file: ./src/USDCBondV1.ts
  #GWS DAI LP Bond Contract
  - kind: ethereum/contract
    name: GWSDAIBondV1
    network: kovan
    source:
      address: "0xa16b777eEaD3c0C805D489681Cf43DD8cc4523ca"
      abi: GWSDAIBondV1
      startBlock: 30242758
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - GWSDAIBondV1
      abis:
        - name: GenerationalWealthSocietyStakingV1
          file: ./abis/GenerationalWealthSocietyStakingV1.json
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
        - name: DAIBondV1
          file: ./abis/DAIBondV1.json
        - name: GWSDAIBondV1
          file: ./abis/GWSDAIBondV1.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file: ./src/GWSDAIBondV1.ts
  #sGWS
  - kind: ethereum/contract
    name: sGenerationalWealthSocietyERC20V1
    network: kovan
    source:
      address: "0xa4B206B5c69b23F4D6DF608Cbf8Ac683063fc50C"
      abi: sGenerationalWealthSocietyERC20
      startBlock: 30242514
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - sGenerationalWealthSocietyERC20V1
      abis:
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
      callHandlers:
        - function: rebase(uint256,uint256)
          handler: rebaseFunction
      file: ./src/sGenerationalWealthSocietyERC20V1.ts
