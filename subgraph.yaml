specVersion: 0.0.2
description: GenerationalWealthSociety DAO Subgraph
repository: https://github.com/GenerationalWealthSocietyDAO/generationalWealthSociety-subgraph
schema:
  file: ./schema.graphql
dataSources:
  #Staking Contract V1
  - kind: ethereum/contract
    name: GenerationalWealthSocietyStakingV1
    network: kovan
    source:
      address: "0x05D27dcFD9c075afE28366458d1dcf83C1112B17"
      abi: GenerationalWealthSocietyStakingV1
      startBlock: 30432224
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - GenerationalWealthSocietyStakingV1
      abis:
        - name: GenerationalWealthSocietyStakingV1
          file: ./abis/GenerationalWealthSocietyStakingV1.json
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
        - name: DAIBondV1
          file: ./abis/DAIBondV1.json
        - name: GWSDAIBondV1
          file: ./abis/GWSDAIBondV1.json
        - name: CirculatingSupply
          file: ./abis/CirculatingSupply.json
        - name: BondingCalculator
          file: ./abis/BondingCalculator.json
        - name: ERC20
          file: ./abis/ERC20.json
      callHandlers:
        - function: stake(uint256,address)
          handler: handleStake
        - function: unstake(uint256,bool)
          handler: handleUnstake
      file: ./src/GenerationalWealthSocietyStakingV1.ts
  #DAI Bond Contract V1
  - kind: ethereum/contract
    name: DAIBondV1
    network: kovan
    source:
      address: "0x8E8A94A3aE558d1F1E861A0F16d6d22C5a140aF2"
      abi: DAIBondV1
      startBlock: 30432656
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - DAIBondDeposit
      abis:
        - name: GenerationalWealthSocietyStakingV1
          file: ./abis/GenerationalWealthSocietyStakingV1.json
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
        - name: DAIBondV1
          file: ./abis/DAIBondV1.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file:
        ./src/DAIBondV1.ts
  #USDC Bond Contract V1
  - kind: ethereum/contract
    name: USDCBondV1
    network: kovan
    source:
      address: "0x67E4bB56477754210068F8219566C8f75b6f8c6A"
      abi: USDCBondV1
      startBlock: 30432733
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - USDCBondDeposit
      abis:
        - name: GenerationalWealthSocietyStakingV1
          file: ./abis/GenerationalWealthSocietyStakingV1.json
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
        - name: USDCBondV1
          file: ./abis/USDCBondV1.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file: ./src/USDCBondV1.ts
  #GWS DAI LP Bond Contract
  - kind: ethereum/contract
    name: GWSDAIBondV1
    network: kovan
    source:
      address: "0x8d2541C46BD93C9738Ee089764efD81b8a2654A0"
      abi: GWSDAIBondV1
      startBlock: 30432804
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - GWSDAIBondV1
      abis:
        - name: GenerationalWealthSocietyStakingV1
          file: ./abis/GenerationalWealthSocietyStakingV1.json
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
        - name: DAIBondV1
          file: ./abis/DAIBondV1.json
        - name: GWSDAIBondV1
          file: ./abis/GWSDAIBondV1.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file: ./src/GWSDAIBondV1.ts
  #sGWS
  - kind: ethereum/contract
    name: sGenerationalWealthSocietyERC20V1
    network: kovan
    source:
      address: "0x8944Cea6cb4014eB389c2b7765dFeE0B915Cf4B3"
      abi: sGenerationalWealthSocietyERC20
      startBlock: 30431884
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - sGenerationalWealthSocietyERC20V1
      abis:
        - name: sGenerationalWealthSocietyERC20
          file: ./abis/sGenerationalWealthSocietyERC20.json
        - name: GenerationalWealthSocietyERC20
          file: ./abis/GenerationalWealthSocietyERC20.json
        - name: UniswapV2Pair
          file: ./abis/UniswapV2Pair.json
      callHandlers:
        - function: rebase(uint256,uint256)
          handler: rebaseFunction
      file: ./src/sGenerationalWealthSocietyERC20V1.ts
